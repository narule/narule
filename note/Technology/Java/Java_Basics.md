# Java Basic

> 通过对 《java核心技术》的阅读及其他资料的查阅，对java做一些简单个人笔记

## <font color="red">Java描述</font> 

java 最初的目的很简单，解决开发效率，方便开发人员，提供一个开发平台支持

### Java平台

**Java不仅仅是一种编程语言，同时也是一个平台(一次编译到处运行)**

​		Java有自己的Java虚拟机，而且有Java库（可用代码）

​		Java的设计一开始就并不完美，但是他的出现算是一种开发福音。java本身是面向对象编程，和其他面向对象语言一样从编写到运行，一样的开发流程，但是代码运行原理有那么一些不同；

​		Java中有虚拟机这么一个东西，虚拟机简而言之就是虚拟运行器，可以在window,unix，linux系统运行，是一种跨平台技术。 

java代码从编写到运行大概过程(以hello world 为例)：

```shell
# $1. 编写一个HelloWorld 程序：HelloWord.java  
# $2. 将HelloWorld.java编译成字节码文件： HellWorld.class
# $3. 将HelloWorld.class 字节码文件装载到Java虚拟机运行
```

这里 1 2 两步在window 还是linux系统，文件没有任何区别， 在第三步能显现出Java虚拟机的优势。

**无论你在window系统还是linux系统，只要你安装了对应的Java虚拟机，将HelloWorld.class文件放入虚拟机运行，结果都一样。这是因为，Java虚拟机将.class文件解释成本地操作系统能识别的机器码**

你在系统上安装了虚拟机的时候，虚拟机就知道自己在什么系统上（window或者linux）,所以虚拟机在java中很重要，个人认为**java虚拟机**占了Java整个体系的半壁江上



### Java白皮书

```shell
#简单性		#面向对象		#分布式		#健壮性		#安全性 
#体系结构中立		#可移植性		#解释型		#高性能		#多线程		#动态性
```

#### 简单性

Java设计系统编写的程序可以在大服务器上运行，也可以在小型机器上运行，如嵌入式

#### 面向对象

Java语言是面向对象设计语言，面向对象是一种程序设计技术，一种表达思想。

#### 分布式

Java 有很多类库，包括网络资源访问，通过URL打开和访问网络对象（数据）。

#### 健壮性

Java设计时也考虑到可靠性，java中没有直接直接操作指针的可能，Java程序在运行之前就会对字节码文件进行校验检查，一些早期问题检测，后期动态（运行时）检测

#### 安全性

Java适用于网络/分布式环境，所以在安全方面也花了精力去设计，防止病毒，篡改系统，未授权读写文件

Java虚拟机是一个沙盒环境，程序在沙盒中运行相对来说更安全

#### 体系结构中立

Java在任何系统编写的代码，编译成.class 字节码文件后`.class` 文件在任何系统都能运行

#### 可移植性

Java中数据结构长度是固定的，并且有很多库（工具），Java API丰富 包括网络连接，多线程，日期，xml解析，正则表达式，数据库， IO

#### 解释型

只要系统安装了Java解释器，java解释器就可以执行Java字节码文件（.class)，意思是jvm虚拟机是将 .class文件解释称本地操作系统能识别的机器码，通过机器码执行程序。

#### 高性能

Java编译器一直在提升性能设计，可以对.class字节码文件进行指令优化，有即时编译技术，提高代码运行速度





## <font color="red">Java的基本程序结构设计</font>

### 数据类型

**Java是强类型语言，所以在声明变量的时候必须指定变量的数据类型**

计算机中   只有0 和 1，计算机中，一个字有四位，一个字节有两个字及8位，所以一个字节能表示256种可能：`2*2*2*2*2*2*2*2 = 256` 

```
二进制码  8421码
0000	表示0 
0100	表示4 	
```



#### 整形

没有小数的数字为整形

```
byte 		1字节     		00000000				~ 			11111111
short 		2字节				0000000000000000		~			1111111111111111
int 		4字节
long		8字节				
```

#### 浮点类型

带小数

```
float	4字节（有效小数6～7位）
double	8字节（有效小数15位）
```

#### char类型

```shell
# char一般用于表示单个字符,'a','三' 都算是一个字符 , 
# 字符长度不确定，因为通常英语只需要8位都能表示清楚，而汉字远远不够
```

需要注意的是，unicode常因为编码不同而乱码，在打印问题上需要用字符流处理，但是文件的复制不需要，因为文件是原样复制；

#### boolean 类型

false 和 true 两个值 

### 数据结构

#### 数组

常见一维数组 

```java
int[] arr;
int[] arr1 = {1,2,3,4};
int[] arr2 = new int[4];
char[] hello = {'h','e','l','l','o'};
```

二维数组：

```java
int[][] ar = {
				{1,2,3},
				{2,1,3},
				{3,1,3}
			}
```

#### 枚举enum 

```java
enum SizeS {S,	M,	X,	L};
Size s = SizeS.S;
///////////////////////////////////
String[] SizeS = {"S",	"M",	"X",	"L"};
String Size = SizeS[0];
Size = "XLL";
```

如上，用枚举已经定义好值，不会出差错，最多可能为null ,

如果是String 定义尺寸， Size可以是"S", 但也可能被赋值"O" 而出现不可预知结果

枚举用于限制数据出错，其实用处并没有很明显

#### 字符串 String

String 在java中是一个类，有很多API

字符串本身是char[] ，String str = "hello"; 内部结构等价于 char[] arr = {'h','e','l','l','o'};

#### 集合

##### map 

常见的map 有HashMap ConcurrentHashMap

##### list

常见的list 有ArrayList LinkedList

#### 数据结构特点

##### 连续数组 

是一种常见的数据结构，是有序的一组数据，能够索引查询。

缺点，删除操作复杂。 删除一个元素，需要将数组结构重新组合。因为删除元素后面的所有元素的索引值-1 ,因此需要改后面所有元素都要改变索引值。增加元素同样如此

优点，查询快，特别是提供索引的情况下。

##### 链表 

相对于连续数组，链表的的元素存放位置可能不是连续的，可能两个相邻元素存放位置相差很大，链表元素通过存放相邻元的的访问地址信息来访问相邻元素，所以链表的查找只能是一个一个的查，比数组慢，但是增加或删除元素很快，只需要改变插入元素的相邻两个元素信息就可以完成数据修改。

优点 增删快，

缺点 查询慢

##### 数组 + 链表 

常见的map数据结构， key  -> value 存放元数据。

HashMap用的比较多，结合了数组索引查询快的优点和链表删除增加元素快的优点

原理，HashMap  是一个Key对应一个 value ,

1存放数据的时候，先通过key 算出hashcode值，进而算出对应数组索引

然后存放到数组中去。 这样就通过key 能得到索引，有查询快的优点。

2删除元素或者新增元素，直接将value 赋值 或者 value = null, 可达到效果。

遍历则是通过keyset 完成。