<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
<!--<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700&display=swap" rel="stylesheet">-->
<link rel="stylesheet" href="/assets/css/style.css">
<title>narule.github.io</title>
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>narule.github.io | Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="narule.github.io" />
<meta name="author" content="Narule" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:site_name" content="narule.github.io" />
<script type="application/ld+json">
{"description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@type":"WebSite","url":"/","headline":"narule.github.io","author":{"@type":"Person","name":"Narule"},"name":"narule.github.io","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
	<header class="texture-blue">
		<div class="container"><div class="navbar">
	<ul>
		
		<a href="/home"><li  >Home</li></a>
		
	</ul>
</div></div><div class="container">
	<h1>Narule's GitHub Pages</h1>
	<h2>Developer. Designer</h2>
	<ul class="social"><a href="https://github.com/narule"><li><i class="icon-github-circled"></i></li></a></ul>
</div>
</header>
	<main>
		<div class="container">
			<ul class="posts"><li><div class="post-meta">
			<a class="post-link" href="/posts/%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E8%AE%BE%E8%AE%A1%E5%92%8C%E6%9E%84%E5%BB%BA-Blog-deployment-design-and-construction/">
				<h2 class="post-title">Blog Design and construction</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Jul 23, 2020</div>
		</div>
		<div class="post"><p>搭建博客能学习不少新知识，自定义功能，下面说说如何设计构建</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2/">
				<h2 class="post-title">关于博客</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Jul 23, 2020</div>
		</div>
		<div class="post"><h1 id="关于博客">关于博客</h1>

<p>音乐，游戏，影，思考</p>

<p>技术</p>

<p>目录结构</p>

<p>Activity</p>

<p>​		Music 音乐</p>

<p>​		Game 游戏</p>

<p>​		Film 影</p>

<p>​		Think 思考</p>

<p>​					Problem 课题，问题，困难</p>

<p>Technology  技术类文章</p>

<p>Other  其他</p>

</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
				<h2 class="post-title">分布式事务</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Jun 12, 2020</div>
		</div>
		<div class="post"><p>关于分布式的思考</p>

<h1 id="分布式事务">分布式事务</h1>

<p>分布式环境下的事务</p>

<p>要了解分布式事务，首先要了解分布式环境</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/fail2ban/">
				<h2 class="post-title">Fail2ban</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Jun 3, 2020</div>
		</div>
		<div class="post"><h2 id="fail2ban-防ssh暴力破解">fail2ban 防ssh暴力破解</h2>

<p>fail2ban 出现主要针对 暴力访问服务器而设计</p>

<p>原理是通过linux 服务器上的访问日志，通过正则表达式，获取访问信息</p>

<p>如ssh登录防暴力破解，通过正则ssh访问日志记录，获取暴利访问ip,家ip 通过防火墙隔离。</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/shell/">
				<h2 class="post-title">Shell</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 31, 2020</div>
		</div>
		<div class="post"><h1 id="shell">shell</h1>

<p>shell 是一种脚本命令</p>

<blockquote>
  <p>Shell 脚本（shell script），是一种为 shell 编写的脚本程序。</p>
</blockquote>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E6%95%B0%E6%8D%AE%E5%8A%A0%E5%AF%86/">
				<h2 class="post-title">数据加密</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 22, 2020</div>
		</div>
		<div class="post"><p>互联网，将全球不同的计算机等电子设备连接起来，使具备互相通信的条件，但是通信信息有些事隐私，有些通信不能被其他人知道。互联网私人生活交流信息不被恶意者随意窃取，也应该是社会秩序正常稳定的表现，平时的通信不过如此，涉及到商业信息，数据保密更显得格外重要。加密算法是保持通信信息不泄漏的一种技术，可用手段</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E5%9B%9B%E8%BD%B4%E9%A3%9E%E8%A1%8C%E5%99%A8/">
				<h2 class="post-title">四轴飞行器</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 9, 2020</div>
		</div>
		<div class="post"><h1 id="四轴飞行器">四轴飞行器</h1>

<blockquote>
  <p>第一次知道四轴飞行器还是大二大三那会，在寝室冲浪看到四轴飞行视频就被吸引了，之后有努力去了解四轴飞行器的技术发展与生态。</p>
</blockquote>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E8%8B%B1%E6%96%87%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">
				<h2 class="post-title">英文字符串排序算法</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 8, 2020</div>
		</div>
		<div class="post"><p>关于如何排序的思考</p>

<blockquote>
  <p>编程工作偶尔会遇到一些不常见问题需要处理，学编程处理问题也难免需要熟悉一些算法</p>

  <p>以前学习的时候就遇到过一个看似简单的排序算法问题，当时的解决办法是我没有用过的，在此记录一下</p>
</blockquote>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/ServerConfig/">
				<h2 class="post-title">Serverconfig</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Apr 23, 2020</div>
		</div>
		<div class="post"><h1 id="serverconfig">ServerConfig</h1>

<blockquote>
  <p>SpringCloud 组件，ServerConfig 是配置服务中心，组件，用于统一管理项目配置</p>
</blockquote>

<h2 id="原理">原理</h2>

<h3 id="读取配置文件内容到服务中心">读取配置文件内容到服务中心</h3>
<p>通过启动一个springboot服务（server-config），配置好git仓库地址（也可以svn或者其他），通过配置好的文件地址，访问配置文件，将配置读取到服务中心，并且文件内容修改后，可以实时刷新。</p>

<h3 id="客户端到配置中心读配置内容">客户端到配置中心读配置内容</h3>
<p>其他微服务访问配置不需要访问git，只需要通过访问ServerConfig读取配置，能到达统一配置的目的。</p>

<h2 id="搭建">搭建</h2>

<blockquote>
  <p>前提概要，本搭建使用ide:Spring Tool Suite 4</p>

  <p>Version: 4.3.0.RELEASE
Build Id: 201906200901</p>

  <p>安装好maven 3.6.3，并配置好网络通畅的maven仓库地址，有些国外仓库地址可能网速不好，下载依赖慢。</p>

  <p>国内镜像仓库反而更快 https://www.cnblogs.com/Narule/p/12595960.html</p>
</blockquote>

<h2 id="server">Server</h2>

<p>file  -&gt; new -&gt; Spring Starter Project
<img src="https://img2020.cnblogs.com/blog/1436620/202003/1436620-20200330000626226-533036850.png" alt="" /></p>

<h3 id="pom依赖">pom依赖</h3>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
	<span class="nt">&lt;parent&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;version&gt;</span>2.2.5.RELEASE<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
	<span class="nt">&lt;/parent&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.wunanyu<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>Config<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;name&gt;</span>Config<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;description&gt;</span>Demo project for Spring Boot<span class="nt">&lt;/description&gt;</span>

	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;java.version&gt;</span>1.8<span class="nt">&lt;/java.version&gt;</span>
		<span class="nt">&lt;spring-cloud.version&gt;</span>Hoxton.SR3<span class="nt">&lt;/spring-cloud.version&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>

	<span class="nt">&lt;dependencies&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-cloud-config-server<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
			<span class="nt">&lt;exclusions&gt;</span>
				<span class="nt">&lt;exclusion&gt;</span>
					<span class="nt">&lt;groupId&gt;</span>org.junit.vintage<span class="nt">&lt;/groupId&gt;</span>
					<span class="nt">&lt;artifactId&gt;</span>junit-vintage-engine<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;/exclusion&gt;</span>
			<span class="nt">&lt;/exclusions&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;/dependencies&gt;</span>

	<span class="nt">&lt;dependencyManagement&gt;</span>
		<span class="nt">&lt;dependencies&gt;</span>
			<span class="nt">&lt;dependency&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
				<span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
				<span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
			<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;/dependencies&gt;</span>
	<span class="nt">&lt;/dependencyManagement&gt;</span>

	<span class="nt">&lt;build&gt;</span>
		<span class="nt">&lt;plugins&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
		<span class="nt">&lt;/plugins&gt;</span>
	<span class="nt">&lt;/build&gt;</span>

<span class="nt">&lt;/project&gt;</span>

</code></pre></div></div>

<h3 id="配置文件">配置文件</h3>

<h4 id="applicationyml">application.yml</h4>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">server</span><span class="pi">:</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">8888</span>  <span class="c1">#	服务端口号</span>
<span class="na">spring</span><span class="pi">:</span>
  <span class="na">application</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">server-config</span>  <span class="c1">#服务名</span>
  <span class="na">cloud</span><span class="pi">:</span>
    <span class="na">config</span><span class="pi">:</span>
      <span class="na">server</span><span class="pi">:</span>
        <span class="na">git</span><span class="pi">:</span>
          <span class="na">uri</span><span class="pi">:</span> <span class="s">/usr/data/git/cloud/config</span>  <span class="c1">#linux配置文件地址</span>
          <span class="c1"># 这里可以配置文件路径，也可以配置服务器路径，windows需要添加//  </span>
          <span class="c1"># 如uri: file://${user.home}/config-repo</span>
          <span class="c1"># github  uri：https：//github.com/repo</span>

<span class="c1">#</span>
<span class="c1">#logging:</span>
<span class="c1">#config: src/main/resources/logback-spring.xml</span>
<span class="na">log</span><span class="pi">:</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">log</span>  <span class="c1">#日志路径</span>
</code></pre></div></div>

<p>更详细可以见https://www.cnblogs.com/hellxz/p/9306507.html</p>

<h4 id="logback-springxml">logback-spring.xml</h4>

<blockquote>
  <p>日志打印的配置文件已经配置好，可以直接用，这里不介绍logback细节，不是本次重点</p>
</blockquote>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="c">&lt;!--  
配置说明

%6 表示字段最小长度为6，格式右对齐 		[	 右对齐 ]
%-64 表示最小长度64，并且左对齐		[左对齐	]
%6.32 表示最小长度6，最大长度32		[左对齐	]
--&gt;</span>
<span class="nt">&lt;configuration</span> <span class="na">scan=</span><span class="s">"true"</span> <span class="na">scanPeriod=</span><span class="s">"60 seconds"</span>
	<span class="na">debug=</span><span class="s">"false"</span><span class="nt">&gt;</span>
	<span class="c">&lt;!-- 默认读取application.yml 配置 --&gt;</span>
	<span class="nt">&lt;springProperty</span> <span class="na">scope=</span><span class="s">"contex"</span> <span class="na">name=</span><span class="s">"app"</span> <span class="na">source=</span><span class="s">"spring.application.name"</span><span class="nt">&gt;&lt;/springProperty&gt;</span>
	<span class="nt">&lt;springProperty</span> <span class="na">scope=</span><span class="s">"contex"</span> <span class="na">name=</span><span class="s">"log.path"</span> <span class="na">source=</span><span class="s">"log.path"</span><span class="nt">&gt;&lt;/springProperty&gt;</span>
 	<span class="c">&lt;!-- &lt;property name="log.path" value="log" /&gt; --&gt;</span>
	<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"LOG_PATTERN"</span>
		<span class="na">value=</span><span class="s">"%d -%magenta(%6(${PID:- }))- [%-5(${app})] [%6thread] %-5level %cyan(%-64logger{128}) - %msg%n"</span> <span class="nt">/&gt;</span>
		<span class="c">&lt;!-- 时间	进程						 线程 					日志级别 				输出对象 			消息内容 --&gt;</span>
		<span class="c">&lt;!-- 彩色 --&gt;</span>
		<span class="c">&lt;!-- &lt;property name="LOG_PATTERN" value="%d -%magenta(${PID:- })- [%16thread] %customcolor(%-5level) %cyan(%-64logger{128}) - %msg%n" /&gt; --&gt;</span>
		<span class="c">&lt;!-- 黑白日志 --&gt;</span>
		<span class="c">&lt;!-- &lt;property name="LOG_PATTERN" value="%d -%6(${PID:- })- [%16thread] %-5level %-64logger{128} - %msg%n" /&gt; --&gt;</span>
	
	<span class="c">&lt;!-- &lt;contextName&gt;${app}&lt;/contextName&gt; --&gt;</span>
	<span class="c">&lt;!--输出到控制台 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"console"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.ConsoleAppender"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!-- 级别过滤 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="c">&lt;!-- 级别低于INFO 的日志不会被打印 --&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="c">&lt;!-- 打印模板 --&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
			<span class="c">&lt;!-- &lt;pattern&gt;%d -%magenta(${PID:- })- [%16thread] %customcolor(%-5level) 
				%cyan(%-64logger{128}) - %msg%n&lt;/pattern&gt; --&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!--输出到文件 --&gt;</span>
	<span class="c">&lt;!-- all 日志文件，级别高于info 的全部打印 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"all-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-all.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- ThresholdFilter级别过滤 级别大于 info 的才会输出 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/all/${app}-all-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- &lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.all-log.zip&lt;/fileNamePattern&gt; --&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- info 日志文件 只打印info级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"info-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-info.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- 只打印唯一种级别的日志 可以用 LevelFilter 配置 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
			<span class="c">&lt;!--匹配到就允许 --&gt;</span>
			<span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>
			<span class="c">&lt;!--没匹配到就禁止 --&gt;</span>
			<span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/info/${app}-info-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- warn 日志文件 只打印warn级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"warn-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-warn.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- 只打印唯一种级别的日志 可以用 LevelFilter 配置 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>WARN<span class="nt">&lt;/level&gt;</span>
			<span class="c">&lt;!--匹配到就允许 --&gt;</span>
			<span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>
			<span class="c">&lt;!--没匹配到就禁止 --&gt;</span>
			<span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/warn/${app}-warn-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="c">&lt;!-- &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
			&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.warn-log.zip&lt;/fileNamePattern&gt; 
			日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; --&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- error 日志文件 只打印error级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"error-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-error.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; 
			&lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; --&gt;</span>
		<span class="c">&lt;!--如果只是想要 Error 级别的日志，那么需要过滤一下，默认是 info 级别的，ThresholdFilter --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>Error<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/error/${app}-error-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>






	<span class="c">&lt;!-- root 指定打印日志最低级别 --&gt;</span>
	<span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">"info"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"console"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"all-file"</span> <span class="nt">/&gt;</span>
		<span class="c">&lt;!-- &lt;appender-ref ref="trace-file" /&gt; --&gt;</span>
		<span class="c">&lt;!-- &lt;appender-ref ref="debug-file" /&gt; --&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"info-file"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"warn-file"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"error-file"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/root&gt;</span>

	<span class="c">&lt;!-- logback为java中的包 --&gt;</span>
	<span class="c">&lt;!-- &lt;logger name="com.baiding"/&gt; --&gt;</span>
	<span class="c">&lt;!-- java中的包 --&gt;</span>
	<span class="c">&lt;!-- &lt;logger name="com.baiding" level="warn" addtivity="false"&gt; &lt;appender-ref 
		ref="console" /&gt; &lt;/logger&gt; --&gt;</span>


	<span class="c">&lt;!-- &lt;appender name="trace-file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
		&lt;file&gt;${log.path}/spring-boot-${log.name}-trace.log&lt;/file&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; 
		&lt;level&gt;TRACE&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
		&lt;/filter&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
		&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.trace-log.zip&lt;/fileNamePattern&gt; 
		日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; 
		&lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} 
		- %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; --&gt;</span>

	<span class="c">&lt;!-- &lt;appender name="debug-file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
		&lt;file&gt;${log.path}/spring-boot-${log.name}-debug.log&lt;/file&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; 
		&lt;level&gt;DEBUG&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
		&lt;/filter&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
		&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.debug-log.zip&lt;/fileNamePattern&gt; 
		日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; 
		&lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} 
		- %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; --&gt;</span>

<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></div>

<h3 id="启动类">启动类</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.wunanyu.cloud.config</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.cloud.config.server.EnableConfigServer</span><span class="o">;</span>

<span class="nd">@SpringBootApplication</span>  <span class="c1">//springboot启动类注解</span>
<span class="nd">@EnableConfigServer</span>  <span class="c1">//SpringCloud-ServerConfig配置中心服务注解，表示这是配置服务中心</span>
<span class="cm">/**
 * @author Narule
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ConfigApplication</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">ConfigApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
	<span class="o">}</span>
	
<span class="o">}</span>
</code></pre></div></div>

<p>启动这个类的main方法，看控制台console的打印日志是否启动成功，启动成功，则可以通过</p>

<p>localhost:8888/eureka-dev.yml 查看配置信息，只要配置地址有这个文件</p>

<h3 id="configserver-配置文件规则">configserver 配置文件规则</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/ { 应用名 } / { 环境名 } [ / { 分支名 } ]
/ { 应用名 } - { 环境名 }.yml
/ { 应用名 } - { 环境名 }.properties
/ { 分支名 } / { 应用名 } - { 环境名 }.yml
/ { 分支名 } / { 应用名 } - { 环境名 }.properties
</code></pre></div></div>

<h3 id="client-读取配置">client 读取配置</h3>

<p>如果一个springboot服务叫eureka,eureka配置如下</p>

<p>bootstrap.yml</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spring</span><span class="pi">:</span>
  <span class="na">application</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">eureka</span> <span class="c1">#应用名</span>
  <span class="na">cloud</span><span class="pi">:</span>
    <span class="na">config</span><span class="pi">:</span>
     <span class="na">uri</span><span class="pi">:</span> <span class="s">localhost:8888</span> <span class="c1">#配置中心的访问地址 这不是配置文件的地址，是配置服务server-config的地址</span>
     <span class="na">profile</span><span class="pi">:</span> <span class="s">dev</span> <span class="c1">#环境</span>
     <span class="na">label</span><span class="pi">:</span> <span class="s">master</span> <span class="c1">#分支</span>
<span class="na">management</span><span class="pi">:</span>
  <span class="na">endpoints</span><span class="pi">:</span>
    <span class="na">web</span><span class="pi">:</span>
      <span class="na">exposure</span><span class="pi">:</span>
        <span class="na">include</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">*"</span>
        
<span class="na">eureka</span><span class="pi">:</span>
  <span class="na">server</span><span class="pi">:</span>
    <span class="na">renewal-percent-threshold</span><span class="pi">:</span> <span class="m">0.45</span>
    
<span class="na">log</span><span class="pi">:</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">log</span>
</code></pre></div></div>

<p>那么他会读取的文件名称为<code class="language-plaintext highlighter-rouge">eureka-dev.yml</code>, git分支为master的文件(默认)</p>

<h2 id="client">Client</h2>

<p>Client 其实只是在pom中添加 config依赖</p>

<p><code class="language-plaintext highlighter-rouge">&lt;dependency&gt;
			&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
			&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;
&lt;/dependency&gt;</code></p>

<p>并且在bootstrap.yml 中配置server-config服务的url地址，Client就能自己读取到配置中心服务的数据</p>

<h3 id="pom依赖-1">pom依赖</h3>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">"http://maven.apache.org/POM/4.0.0"</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
	<span class="nt">&lt;parent&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;version&gt;</span>2.2.5.RELEASE<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;relativePath/&gt;</span> <span class="c">&lt;!-- lookup parent from repository --&gt;</span>
	<span class="nt">&lt;/parent&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.wunanyu<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>Eureka<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;name&gt;</span>Eureka<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;description&gt;</span>Demo project for Spring Boot<span class="nt">&lt;/description&gt;</span>

	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;java.version&gt;</span>1.8<span class="nt">&lt;/java.version&gt;</span>
		<span class="nt">&lt;spring-cloud.version&gt;</span>Hoxton.SR3<span class="nt">&lt;/spring-cloud.version&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>

	<span class="nt">&lt;dependencies&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
			<span class="nt">&lt;exclusions&gt;</span>
				<span class="nt">&lt;exclusion&gt;</span>
					<span class="nt">&lt;groupId&gt;</span>org.junit.vintage<span class="nt">&lt;/groupId&gt;</span>
					<span class="nt">&lt;artifactId&gt;</span>junit-vintage-engine<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;/exclusion&gt;</span>
			<span class="nt">&lt;/exclusions&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-config<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
		<span class="c">&lt;!--Spring Boot Actuator，感应服务端变化  监控工具，可以刷新数据（需要自己主动调用接口）--&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
		
	<span class="nt">&lt;/dependencies&gt;</span>

	<span class="nt">&lt;dependencyManagement&gt;</span>
		<span class="nt">&lt;dependencies&gt;</span>
			<span class="nt">&lt;dependency&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-cloud-dependencies<span class="nt">&lt;/artifactId&gt;</span>
				<span class="nt">&lt;version&gt;</span>${spring-cloud.version}<span class="nt">&lt;/version&gt;</span>
				<span class="nt">&lt;type&gt;</span>pom<span class="nt">&lt;/type&gt;</span>
				<span class="nt">&lt;scope&gt;</span>import<span class="nt">&lt;/scope&gt;</span>
			<span class="nt">&lt;/dependency&gt;</span>
		<span class="nt">&lt;/dependencies&gt;</span>
	<span class="nt">&lt;/dependencyManagement&gt;</span>

	<span class="nt">&lt;build&gt;</span>
		<span class="nt">&lt;plugins&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
		<span class="nt">&lt;/plugins&gt;</span>
	<span class="nt">&lt;/build&gt;</span>

<span class="nt">&lt;/project&gt;</span>

</code></pre></div></div>

<h3 id="配置文件-1">配置文件</h3>

<h4 id="bootstrapyml">bootstrap.yml</h4>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">spring</span><span class="pi">:</span>
  <span class="na">application</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">eureka</span>
  <span class="na">cloud</span><span class="pi">:</span>
    <span class="na">config</span><span class="pi">:</span>
     <span class="na">uri</span><span class="pi">:</span> <span class="s">http://192.168.50.135:8888</span>
     <span class="na">profile</span><span class="pi">:</span> <span class="s">dev</span>
     <span class="na">label</span><span class="pi">:</span> <span class="s">master</span>
<span class="na">management</span><span class="pi">:</span>
  <span class="na">endpoints</span><span class="pi">:</span>
    <span class="na">web</span><span class="pi">:</span>
      <span class="na">exposure</span><span class="pi">:</span>
        <span class="na">include</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">*"</span>
        
<span class="na">eureka</span><span class="pi">:</span>
  <span class="na">server</span><span class="pi">:</span>
    <span class="na">renewal-percent-threshold</span><span class="pi">:</span> <span class="m">0.45</span>
    
<span class="na">log</span><span class="pi">:</span>
  <span class="na">path</span><span class="pi">:</span> <span class="s">log</span>
</code></pre></div></div>

<h4 id="logback-springxml-1">logback-spring.xml</h4>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="c">&lt;!--  
配置说明

%6 表示字段最小长度为6，格式右对齐 		[	 右对齐 ]
%-64 表示最小长度64，并且左对齐		[左对齐	]
%6.32 表示最小长度6，最大长度32		[左对齐	]
--&gt;</span>
<span class="nt">&lt;configuration</span> <span class="na">scan=</span><span class="s">"true"</span> <span class="na">scanPeriod=</span><span class="s">"60 seconds"</span>
	<span class="na">debug=</span><span class="s">"false"</span><span class="nt">&gt;</span>
	<span class="c">&lt;!-- 默认读取application.yml 配置 --&gt;</span>
	<span class="nt">&lt;springProperty</span> <span class="na">scope=</span><span class="s">"contex"</span> <span class="na">name=</span><span class="s">"app"</span> <span class="na">source=</span><span class="s">"spring.application.name"</span><span class="nt">&gt;&lt;/springProperty&gt;</span>
	<span class="nt">&lt;springProperty</span> <span class="na">scope=</span><span class="s">"contex"</span> <span class="na">name=</span><span class="s">"log.path"</span> <span class="na">source=</span><span class="s">"log.path"</span><span class="nt">&gt;&lt;/springProperty&gt;</span>
 	<span class="c">&lt;!-- &lt;property name="log.path" value="log" /&gt; --&gt;</span>
	<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"LOG_PATTERN"</span>
		<span class="na">value=</span><span class="s">"%d -%magenta(%6(${PID:- }))- [%-5(${app})] [%6thread] %-5level %cyan(%-64logger{128}) - %msg%n"</span> <span class="nt">/&gt;</span>
		<span class="c">&lt;!-- 时间	进程						 线程 					日志级别 				输出对象 			消息内容 --&gt;</span>
		<span class="c">&lt;!-- 彩色 --&gt;</span>
		<span class="c">&lt;!-- &lt;property name="LOG_PATTERN" value="%d -%magenta(${PID:- })- [%16thread] %customcolor(%-5level) %cyan(%-64logger{128}) - %msg%n" /&gt; --&gt;</span>
		<span class="c">&lt;!-- 黑白日志 --&gt;</span>
		<span class="c">&lt;!-- &lt;property name="LOG_PATTERN" value="%d -%6(${PID:- })- [%16thread] %-5level %-64logger{128} - %msg%n" /&gt; --&gt;</span>
	
	<span class="c">&lt;!-- &lt;contextName&gt;${app}&lt;/contextName&gt; --&gt;</span>
	<span class="c">&lt;!--输出到控制台 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"console"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.ConsoleAppender"</span><span class="nt">&gt;</span>
		<span class="c">&lt;!-- 级别过滤 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="c">&lt;!-- 级别低于INFO 的日志不会被打印 --&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="c">&lt;!-- 打印模板 --&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
			<span class="c">&lt;!-- &lt;pattern&gt;%d -%magenta(${PID:- })- [%16thread] %customcolor(%-5level) 
				%cyan(%-64logger{128}) - %msg%n&lt;/pattern&gt; --&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!--输出到文件 --&gt;</span>
	<span class="c">&lt;!-- all 日志文件，级别高于info 的全部打印 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"all-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-all.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- ThresholdFilter级别过滤 级别大于 info 的才会输出 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/all/${app}-all-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- &lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.all-log.zip&lt;/fileNamePattern&gt; --&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- info 日志文件 只打印info级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"info-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-info.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- 只打印唯一种级别的日志 可以用 LevelFilter 配置 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>INFO<span class="nt">&lt;/level&gt;</span>
			<span class="c">&lt;!--匹配到就允许 --&gt;</span>
			<span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>
			<span class="c">&lt;!--没匹配到就禁止 --&gt;</span>
			<span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/info/${app}-info-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- warn 日志文件 只打印warn级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"warn-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-warn.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- 只打印唯一种级别的日志 可以用 LevelFilter 配置 --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.LevelFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>WARN<span class="nt">&lt;/level&gt;</span>
			<span class="c">&lt;!--匹配到就允许 --&gt;</span>
			<span class="nt">&lt;onMatch&gt;</span>ACCEPT<span class="nt">&lt;/onMatch&gt;</span>
			<span class="c">&lt;!--没匹配到就禁止 --&gt;</span>
			<span class="nt">&lt;onMismatch&gt;</span>DENY<span class="nt">&lt;/onMismatch&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/warn/${app}-warn-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="c">&lt;!-- &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
			&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.warn-log.zip&lt;/fileNamePattern&gt; 
			日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; --&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>

	<span class="c">&lt;!-- error 日志文件 只打印error级别信息 --&gt;</span>
	<span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"error-file"</span>
		<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.RollingFileAppender"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;file&gt;</span>${log.path}/${app}-error.log<span class="nt">&lt;/file&gt;</span>
		<span class="c">&lt;!-- &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; &lt;level&gt;ERROR&lt;/level&gt; 
			&lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; &lt;/filter&gt; --&gt;</span>
		<span class="c">&lt;!--如果只是想要 Error 级别的日志，那么需要过滤一下，默认是 info 级别的，ThresholdFilter --&gt;</span>
		<span class="nt">&lt;filter</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.filter.ThresholdFilter"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;level&gt;</span>Error<span class="nt">&lt;/level&gt;</span>
		<span class="nt">&lt;/filter&gt;</span>
		<span class="nt">&lt;rollingPolicy</span>
			<span class="na">class=</span><span class="s">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span><span class="nt">&gt;</span>
			<span class="nt">&lt;fileNamePattern&gt;</span>${log.path}/error/${app}-error-logging-%d{yyyy-MM-dd}.log
			<span class="nt">&lt;/fileNamePattern&gt;</span>
			<span class="c">&lt;!-- 日志保存周期 --&gt;</span>
			<span class="nt">&lt;maxHistory&gt;</span>30<span class="nt">&lt;/maxHistory&gt;</span>
			<span class="c">&lt;!-- 总大小 --&gt;</span>
			<span class="nt">&lt;totalSizeCap&gt;</span>1GB<span class="nt">&lt;/totalSizeCap&gt;</span>
		<span class="nt">&lt;/rollingPolicy&gt;</span>
		<span class="nt">&lt;encoder&gt;</span>
			<span class="nt">&lt;pattern&gt;</span>${LOG_PATTERN}<span class="nt">&lt;/pattern&gt;</span>
		<span class="nt">&lt;/encoder&gt;</span>
	<span class="nt">&lt;/appender&gt;</span>






	<span class="c">&lt;!-- root 指定打印日志最低级别 --&gt;</span>
	<span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">"info"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"console"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"all-file"</span> <span class="nt">/&gt;</span>
		<span class="c">&lt;!-- &lt;appender-ref ref="trace-file" /&gt; --&gt;</span>
		<span class="c">&lt;!-- &lt;appender-ref ref="debug-file" /&gt; --&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"info-file"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"warn-file"</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"error-file"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/root&gt;</span>

	<span class="c">&lt;!-- logback为java中的包 --&gt;</span>
	<span class="c">&lt;!-- &lt;logger name="com.baiding"/&gt; --&gt;</span>
	<span class="c">&lt;!-- java中的包 --&gt;</span>
	<span class="c">&lt;!-- &lt;logger name="com.baiding" level="warn" addtivity="false"&gt; &lt;appender-ref 
		ref="console" /&gt; &lt;/logger&gt; --&gt;</span>


	<span class="c">&lt;!-- &lt;appender name="trace-file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
		&lt;file&gt;${log.path}/spring-boot-${log.name}-trace.log&lt;/file&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; 
		&lt;level&gt;TRACE&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
		&lt;/filter&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
		&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.trace-log.zip&lt;/fileNamePattern&gt; 
		日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; 
		&lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} 
		- %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; --&gt;</span>

	<span class="c">&lt;!-- &lt;appender name="debug-file" class="ch.qos.logback.core.rolling.RollingFileAppender"&gt; 
		&lt;file&gt;${log.path}/spring-boot-${log.name}-debug.log&lt;/file&gt; &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt; 
		&lt;level&gt;DEBUG&lt;/level&gt; &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt; &lt;onMismatch&gt;DENY&lt;/onMismatch&gt; 
		&lt;/filter&gt; &lt;rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"&gt; 
		&lt;fileNamePattern&gt;${log.path}/spring-boot-${log.name}-logging.%d{yyyy-MM-dd}.debug-log.zip&lt;/fileNamePattern&gt; 
		日志保存周期 &lt;maxHistory&gt;30&lt;/maxHistory&gt; 总大小 &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt; 
		&lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} 
		- %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; --&gt;</span>

<span class="nt">&lt;/configuration&gt;</span>
</code></pre></div></div>

<h3 id="启动类-1">启动类</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.wunanyu.cloud.eureka</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.boot.SpringApplication</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.SpringBootApplication</span><span class="o">;</span>

<span class="nd">@SpringBootApplication</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EurekaApplication</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">SpringApplication</span><span class="o">.</span><span class="na">run</span><span class="o">(</span><span class="nc">EurekaApplication</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">args</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/Object/">
				<h2 class="post-title">Object</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Mar 24, 2020</div>
		</div>
		<div class="post"><h1 id="java-object">Java Object</h1>

<h2 id="超类object">超类Object</h2>

<blockquote>
  <p>java中，所有类都默认继承一个超类，最顶层类，就是Object类。</p>
</blockquote>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/Oracle/">
				<h2 class="post-title">Oracle</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Nov 27, 2019</div>
		</div>
		<div class="post"><h1 id="oracle">Oracle</h1>

<h1 id="表结构操作">表结构操作</h1>

<h2 id="创建表">创建表</h2>
<p>```sql
create table tableName
    (id varchar2(36) primary key,
    name varchar2(36),
    age number(12,2),
    createDate date,
    modifyDate date);</p>

<p>–    创建一张表，表名：tableName, 
–    字段 id 字符串类型 主键，name 字符串类型普通字段，age 数字类型，createDate 创建日期，modifyDate 修改日期</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/IO/">
				<h2 class="post-title">Io</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>Jun 23, 2019</div>
		</div>
		<div class="post"><p>IO摘要 ~</p>

<h1 id="java-io">Java IO</h1>

<blockquote>
  <p>IO:  Input And Output</p>
</blockquote>

<p>java 中有IO，即输入与输出，<strong>输入input 输出output</strong></p>

<p>java 有典型的IO与NIO，常说的IO指典型IO, 阻塞IO， NIO表示非阻塞IO</p>

<p>阻塞： 等待IO任务完成才能继续下一步的操作</p>

<p>非阻塞： 暂不能清晰描述，可以查看网址文章链接：<a href="http://ifeve.com/overview/">http://ifeve.com/overview/</a></p>

<p>这里简单介绍Java中常见的文件读写</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">
				<h2 class="post-title">Transaction</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 23, 2019</div>
		</div>
		<div class="post"><p>```javascript
const express = require(</p>
</div>
	</li><li><div class="post-meta">
			<a class="post-link" href="/posts/Problem-%E8%AF%BE%E9%A2%98/">
				<h2 class="post-title">是否需要立课题</h2>
			</a>
			<div class="post-date"><i class="icon-calendar"></i>May 23, 2019</div>
		</div>
		<div class="post"><p>人应该有所进取</p>

<h1 id="是否需要立课题">是否需要立课题</h1>

<p>对于不熟悉的事物和想做的事，可以先立一个相关课题去了解</p>
</div>
	</li></ul>
		</div>
	</main></body>
</html>